{"version":3,"sources":["contexts/ethereum.tsx","components/Header.tsx","abis/erc20abi.ts","abis/timeLockedAbi.ts","components/Lock.tsx","components/Unlock.tsx","utils.ts","components/AddToken.tsx","components/TimeLocked.tsx","App.tsx","index.tsx"],"names":["EthereumContext","React","createContext","address","connect","chainId","ethereum","undefined","EthereumProvider","props","useState","setAddress","setChainId","setEthereum","a","enable","accounts","localStorage","setItem","useEffect","window","on","removeItem","getItem","Provider","value","children","Header","useContext","e","AppBar","position","Toolbar","style","display","justifyContent","Typography","variant","slice","length","Button","color","onClick","erc20abi","timeLockedAbi","contract","Lock","selectedToken","setSelectedToken","locking","setLocking","approving","setApproving","Date","date","setDate","isApproved","setIsApproved","tokensAmount","setTokensAmount","claimer","setClaimer","provider","ethers","providers","Web3Provider","erc20Contract","Contract","allowance","toString","signer","getSigner","amount","BigNumber","from","pow","sub","approve","result","wait","onError","deposit","utils","parseEther","Math","floor","getTime","checkAllowance","Paper","elevation","padding","marginBottom","Container","Select","fullWidth","label","onChange","target","tokens","map","token","MenuItem","symbol","TextField","margin","DateFnsUtils","DateTimePicker","inputVariant","disabled","marginRight","CircularProgress","size","marginLeft","Unlock","unlockToken","setUnlockToken","unlocking","setUnlocking","balanceToUnlock","setBalanceToUnlock","timeLocked","deposits","balance","formatEther","claim","checkBalanceToUnlock","saveToken","storageTokens","JSON","parse","stringify","getTokens","tokenExists","filter","AddToken","saving","setSaving","preventDefault","decimals","onAddToken","onSubmit","Grid","container","spacing","item","xs","currentTarget","height","type","Alert","TimeLocked","error","setError","setTokens","setTimeout","className","width","alignItems","maxWidth","Snackbar","open","severity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2da59253.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\n\nexport const EthereumContext = React.createContext({\n    address: '',\n    connect: () => {},\n    chainId: '',\n    ethereum: undefined,\n  }\n);\n\ntype Props = {\n  children: JSX.Element\n}\nexport function EthereumProvider(props: Props) {\n  const [address, setAddress] = useState('')\n  const [chainId, setChainId] = useState('');\n  const [ethereum, setEthereum] = useState<any>();\n\n  useEffect(() => {\n    const ethereum = (window as any).ethereum;\n\n    if (ethereum) {\n      ethereum.on('accountsChanged', function (accounts: any) {\n        if (address !== accounts[0]) {\n          setAddress(accounts[0])\n          localStorage.setItem('account', accounts[0]);\n        }\n      });\n\n      ethereum.on('disconnect', () => {\n        setAddress('')\n        localStorage.removeItem('account')\n      });\n\n      ethereum.on('chainChanged', (chainId: string) => {\n        setChainId(chainId)\n      });\n      setEthereum(ethereum);\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!ethereum) {\n      return;\n    }\n\n    const enable = async() => {\n      if (!localStorage.getItem('account')) {\n        return;\n      }\n      const accounts = await ethereum.enable()\n      setAddress(accounts[0])\n      setChainId(ethereum.chainId)\n    }\n\n    enable()\n  }, [ethereum])\n\n  async function connect() {\n    const accounts = await ethereum.enable()\n    setAddress(accounts[0])\n    setChainId(ethereum.chainId)\n    localStorage.setItem('account', accounts[0]);\n  }\n\n  return (\n    <EthereumContext.Provider\n      value={{\n        address,\n        connect,\n        chainId,\n        ethereum,\n      }}\n    >\n      {props.children}\n    </EthereumContext.Provider>\n  )\n}\n","import {AppBar, Button, Toolbar, Typography} from \"@material-ui/core\";\nimport React, {SyntheticEvent, useContext} from \"react\";\nimport {EthereumContext} from \"../contexts/ethereum\";\n\nexport function Header() {\n  const { address, connect, chainId } = useContext(EthereumContext);\n\n  async function onClickWallet(e: SyntheticEvent<HTMLButtonElement>) {\n    await connect();\n  }\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <Typography variant=\"h6\">\n          TimeLocked\n        </Typography>\n        <span>\n            {address ?\n              `${address.slice(0, 10)}....${address.slice(30, address.length)}` :\n              <Button color=\"inherit\" onClick={onClickWallet}>Connect wallet</Button>}\n          </span>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","export const erc20abi = [\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"supply\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Approval\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"to\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"uint256\",\n        \"name\": \"value\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"Transfer\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"allowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"approve\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"account\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"balanceOf\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"decimals\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint8\",\n        \"name\": \"\",\n        \"type\": \"uint8\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"subtractedValue\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"decreaseAllowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"spender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"addedValue\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"increaseAllowance\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"addr\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"supply\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"mint\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"name\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"symbol\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"totalSupply\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"recipient\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transfer\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"sender\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"recipient\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"transferFrom\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]","export const timeLockedAbi = [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": true,\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"OwnershipTransferred\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"tokenAddress\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"claim\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"tokenAddress\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"unlocker\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"unlockTimestamp\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"deposit\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"deposits\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"token\",\n        \"type\": \"address\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"amount\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"unlockTimestamp\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"forwarderAddress\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isTrustedForwarder\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"owner\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"renounceOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"forwarderAddress\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"setForwarder\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]","import {Button, CircularProgress, Container, MenuItem, Paper, Select, TextField, Typography} from \"@material-ui/core\";\nimport {DateTimePicker, MuiPickersUtilsProvider} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {EthereumContext} from \"../contexts/ethereum\";\nimport {ethers} from \"ethers\";\nimport {erc20abi} from \"../abis/erc20abi\";\nimport {timeLockedAbi} from \"../abis/timeLockedAbi\";\nimport {Token} from \"../utils\";\n\nconst contract = '0xc7847fe3B3427c0f5AeFd6df17a3ED6E7668C3cc'\n\ntype Props = {\n  tokens: Token[],\n  onError: (error: string) => void,\n}\n\nexport function Lock(props: Props) {\n  const { address } = useContext(EthereumContext);\n  const [selectedToken, setSelectedToken] = useState('')\n  const [locking, setLocking] = useState(false)\n  const [approving, setApproving] = useState(false)\n  const [date, setDate] = useState<Date>(new Date());\n  const [isApproved, setIsApproved] = useState(false);\n  const [tokensAmount, setTokensAmount] = useState('10');\n  const [claimer, setClaimer] = useState('');\n\n  useEffect(() => {\n    checkAllowance();\n  }, [address, selectedToken])\n\n  async function checkAllowance() {\n    if (address && selectedToken) {\n      const provider = new ethers.providers.Web3Provider((window as any).ethereum)\n      const erc20Contract = new ethers.Contract(selectedToken, erc20abi, provider);\n      const allowance = await erc20Contract.allowance(address, contract);\n      setIsApproved(allowance.toString() !== '0')\n    }\n  }\n\n  async function onClickApprove() {\n    try {\n      if (address && selectedToken) {\n        setApproving(true)\n        const provider = new ethers.providers.Web3Provider((window as any).ethereum)\n        const signer = provider.getSigner()\n        const erc20Contract = new ethers.Contract(selectedToken, erc20abi, provider);\n        const amount = ethers.BigNumber.from(2).pow(256).sub(1).toString();\n        const result = await erc20Contract.connect(signer).approve(contract, amount)\n        await result.wait()\n        setApproving(false)\n      }\n    } catch {\n      props.onError('Failed to approve tokens')\n      setApproving(false)\n    }\n  }\n\n  async function onClickLock() {\n    try {\n      setLocking(true);\n      const provider = new ethers.providers.Web3Provider((window as any).ethereum)\n      const signer = provider.getSigner()\n      const erc20Contract = new ethers.Contract(contract, timeLockedAbi, provider);\n      const result = await erc20Contract.connect(signer).deposit(\n        selectedToken,\n        claimer,\n        ethers.utils.parseEther(tokensAmount),\n        Math.floor((date as Date).getTime() / 1000)\n      )\n      await result.wait()\n      setLocking(false);\n      setClaimer('')\n    } catch (error) {\n      setLocking(false);\n      props.onError('Failed to lock tokens')\n    }\n  }\n\n  return (\n    <Paper elevation={1} style={{ padding: '16px 0 32px', marginBottom: 32 }}>\n      <Container>\n        <Typography variant=\"h6\">Lock funds</Typography>\n      </Container>\n      <Container>\n        <Select\n          fullWidth\n          label=\"Token\"\n          value={selectedToken}\n          onChange={(e) => { setSelectedToken(e.target.value as string) }}\n          variant=\"outlined\"\n        >\n          {props.tokens.map((token) => (\n            <MenuItem key={token.address} value={token.address}>{token.symbol}</MenuItem>\n          ))}\n        </Select>\n        <TextField fullWidth label=\"Tokens amount\" variant=\"outlined\" style={{ margin: '24px 0' }} value={tokensAmount} onChange={(e => { setTokensAmount(e.target.value) })} />\n        <TextField fullWidth label=\"Claimer address\" variant=\"outlined\" style={{ margin: '0 0 24px' }} value={claimer} onChange={(e => { setClaimer(e.target.value) })} />\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <DateTimePicker label=\"Select unlock date\" inputVariant=\"outlined\" value={date} onChange={(date) => {setDate(date as Date)}} />\n        </MuiPickersUtilsProvider>\n      </Container>\n      {selectedToken && address && claimer && (\n        <Container style={{ margin: '24px 0 0' }}>\n          {!isApproved && (\n            <Button disabled={approving} color=\"inherit\" variant=\"outlined\" onClick={onClickApprove} style={{ marginRight: 16 }}>\n              Enable\n              {approving && <CircularProgress size={16} style={{ marginLeft: 8 }} />}\n            </Button>\n          )}\n          {isApproved && (\n            <Button disabled={locking} color=\"inherit\" variant=\"outlined\" onClick={onClickLock}>\n              Lock funds\n              {locking && <CircularProgress size={16} style={{ marginLeft: 8 }} />}\n            </Button>\n          )}\n        </Container>\n      )}\n    </Paper>\n  );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\nimport {Button, CircularProgress, Container, MenuItem, Paper, Select, Typography} from \"@material-ui/core\";\nimport {EthereumContext} from \"../contexts/ethereum\";\nimport {ethers} from \"ethers\";\nimport {timeLockedAbi} from \"../abis/timeLockedAbi\";\nimport {Token} from \"../utils\";\n\nconst contract = '0xc7847fe3B3427c0f5AeFd6df17a3ED6E7668C3cc'\n\ntype Props = {\n  tokens: Token[],\n  onError: (error: string) => void,\n}\n\nexport function Unlock(props: Props) {\n  const { address } = useContext(EthereumContext);\n  const [unlockToken, setUnlockToken] = useState('')\n  const [unlocking, setUnlocking] = useState(false)\n  const [balanceToUnlock, setBalanceToUnlock] = useState('');\n\n  useEffect(() => {\n    checkBalanceToUnlock();\n  }, [address, unlockToken])\n\n  async function checkBalanceToUnlock() {\n    if (address && unlockToken) {\n      const provider = new ethers.providers.Web3Provider((window as any).ethereum)\n      const signer = provider.getSigner()\n      const timeLocked = new ethers.Contract(contract, timeLockedAbi, provider);\n      const balance = await timeLocked.connect(signer).deposits(address, unlockToken)\n      setBalanceToUnlock(ethers.utils.formatEther(balance.amount.toString()))\n    }\n  }\n\n  async function onClickUnlock() {\n    try {\n      setUnlocking(true)\n      const provider = new ethers.providers.Web3Provider((window as any).ethereum)\n      const signer = provider.getSigner()\n      const erc20Contract = new ethers.Contract(contract, timeLockedAbi, provider);\n      const result = await erc20Contract.connect(signer).claim(unlockToken)\n      await result.wait()\n      setUnlocking(false)\n    } catch {\n      setUnlocking(false)\n      props.onError('Failed to unlock tokens')\n    }\n  }\n\n  return (\n    <Paper elevation={1} style={{ padding: '16px 0 32px'}}>\n      <Container>\n        <Typography variant=\"h6\">{`Claim funds ${balanceToUnlock ? balanceToUnlock : ''}`}</Typography>\n      </Container>\n      <Container>\n        <Select\n          fullWidth\n          label=\"Token\"\n          value={unlockToken}\n          onChange={(e) => { setUnlockToken(e.target.value as string) }}\n          variant=\"outlined\"\n        >\n          {props.tokens.map((token) => (\n            <MenuItem key={token.address} value={token.address}>{token.symbol}</MenuItem>\n          ))}\n        </Select>\n        {!!balanceToUnlock && (\n          <Button disabled={unlocking} style={{margin: '24px 0 0'}} color=\"inherit\" variant=\"outlined\" onClick={onClickUnlock}>\n            Unlock funds\n            {unlocking && <CircularProgress size={16} style={{ marginLeft: 8 }} />}\n          </Button>\n        )}\n      </Container>\n    </Paper>\n  )\n}\n","export type Token = {\n  address: string, symbol: string, decimals: number\n}\nexport function saveToken(token: Token) {\n  let storageTokens = localStorage.getItem('tokens')\n\n  if (storageTokens) {\n    let tokens = JSON.parse(storageTokens)\n    tokens = [...tokens, token]\n    localStorage.setItem('tokens', JSON.stringify(tokens))\n  } else {\n    localStorage.setItem('tokens', JSON.stringify([token]))\n  }\n}\n\nexport function getTokens() {\n  let tokens = localStorage.getItem('tokens')\n\n  if (tokens) {\n    return JSON.parse(tokens);\n  }\n\n  return [];\n}\n\nexport function tokenExists(address: string) {\n  let tokens = localStorage.getItem('tokens')\n\n  if (tokens) {\n    return JSON.parse(tokens).filter((token: Token) => token.address === address).length > 0\n  }\n\n  return false;\n}\n","import React, {SyntheticEvent, useContext, useState} from 'react';\nimport {Button, CircularProgress, Container, Grid, Paper, TextField, Typography} from \"@material-ui/core\";\nimport {ethers} from \"ethers\";\nimport {erc20abi} from \"../abis/erc20abi\";\nimport {EthereumContext} from \"../contexts/ethereum\";\nimport {saveToken, tokenExists} from \"../utils\";\n\ntype Props = {\n  onError: (error: string) => void,\n  onAddToken: () => void,\n}\n\nexport function AddToken(props: Props) {\n  const [address, setAddress] = useState('')\n  const [saving, setSaving] = useState(false);\n  const { ethereum } = useContext(EthereumContext);\n\n  async function onSubmit(e: SyntheticEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    if (!address) {\n      return;\n    }\n\n    if (tokenExists(address)) {\n      props.onError('Token already added')\n      return;\n    }\n\n    try {\n      setSaving(true);\n      const provider = new ethers.providers.Web3Provider(ethereum as any)\n      const erc20Contract = new ethers.Contract(address, erc20abi, provider);\n      const symbol = await erc20Contract.symbol();\n      const decimals = await erc20Contract.decimals();\n      saveToken({ address, decimals, symbol});\n      setSaving(false);\n      setAddress('')\n      props.onAddToken();\n    } catch {\n      setSaving(false);\n      props.onError('Failed to add token')\n    }\n  }\n\n  return (\n    <Paper style={{ padding: '16px 0 24px', marginBottom: 32 }}>\n      <Container>\n        <Typography variant=\"h6\">Add custom token</Typography>\n        <form onSubmit={onSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={8}>\n              <TextField label=\"Token address\" variant=\"outlined\" fullWidth size=\"small\" value={address} onChange={(e) => { setAddress(e.currentTarget.value) }}/>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                color=\"inherit\"\n                variant=\"outlined\"\n                fullWidth\n                style={{ height: '100%' }}\n                type=\"submit\"\n                disabled={saving}\n              >\n                Add token\n                {saving && <CircularProgress size={16} style={{ marginLeft: 8 }} />}\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      </Container>\n    </Paper>\n  )\n}\n","import {\n  Container, Snackbar,\n} from \"@material-ui/core\";\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {EthereumContext} from \"../contexts/ethereum\";\nimport {Header} from \"./Header\";\nimport {Lock} from \"./Lock\";\nimport MuiAlert, {AlertProps} from '@material-ui/lab/Alert';\nimport {Unlock} from \"./Unlock\";\nimport {AddToken} from \"./AddToken\";\nimport {getTokens, Token} from \"../utils\";\n\nfunction Alert(props: AlertProps) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport function TimeLocked() {\n  const { ethereum, chainId } = useContext(EthereumContext);\n  const [error, setError] = useState('');\n  const [tokens, setTokens] = useState<Token[]>([]);\n\n  function onError(error: string) {\n    setError(error);\n    setTimeout(() => { setError('') }, 2000)\n  }\n\n  useEffect(() => {\n    setTokens(getTokens())\n  }, [])\n\n  function onAddToken() {\n    setTokens(getTokens())\n  }\n\n  if (!ethereum) {\n    return null;\n  }\n\n  if (chainId !== '0x2a') {\n    return (\n      <div className=\"App\" style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", height: \"100vh\", alignItems: \"center\" }}>\n        Switch to Kovan tesnet\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <Container maxWidth=\"sm\" style={{ padding: '32px 0'}}>\n        <Snackbar open={!!error}>\n          <Alert severity=\"error\">{error}</Alert>\n        </Snackbar>\n        <AddToken onAddToken={onAddToken} onError={onError} />\n        <Lock tokens={tokens} onError={onError} />\n        <Unlock tokens={tokens} onError={onError} />\n      </Container>\n    </div>\n  )\n}","import React from 'react';\nimport { EthereumProvider} from \"./contexts/ethereum\";\nimport {TimeLocked} from \"./components/TimeLocked\";\n\nfunction App() {\n  return (\n    <EthereumProvider>\n      <TimeLocked />\n    </EthereumProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}