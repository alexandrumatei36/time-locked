(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{135:function(e,t,n){},142:function(e,t){},149:function(e,t){},159:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),i=n.n(s),c=(n(135),n(4)),o=n.n(c),u=n(27),p=n(18),l=n(11),d=r.a.createContext({address:"",connect:function(){},chainId:"",ethereum:void 0});function y(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),c=Object(p.a)(i,2),y=c[0],b=c[1],m=Object(a.useState)(),j=Object(p.a)(m,2),f=j[0],h=j[1];function O(){return(O=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.enable();case 2:t=e.sent,s(t[0]),b(f.chainId),localStorage.setItem("account",t[0]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=window.ethereum;e&&(e.on("accountsChanged",(function(e){r!==e[0]&&(s(e[0]),localStorage.setItem("account",e[0]))})),e.on("disconnect",(function(){s(""),localStorage.removeItem("account")})),e.on("chainChanged",(function(e){b(e)})),h(e))}),[]),Object(a.useEffect)((function(){f&&function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("account")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f.enable();case 4:t=e.sent,s(t[0]),b(f.chainId);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[f]),Object(l.jsx)(d.Provider,{value:{address:r,connect:function(){return O.apply(this,arguments)},chainId:y,ethereum:f},children:e.children})}var b=n(109),m=n(202),j=n(214),f=n(194),h=n(198),O=n(199),x=n(200);function v(){var e=Object(a.useContext)(d),t=e.address,n=e.connect;e.chainId;function r(){return(r=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsx)(f.a,{position:"static",children:Object(l.jsxs)(h.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(l.jsx)(O.a,{variant:"h6",children:"TimeLocked"}),Object(l.jsx)("span",{children:t?"".concat(t.slice(0,10),"....").concat(t.slice(30,t.length)):Object(l.jsx)(x.a,{color:"inherit",onClick:function(e){return r.apply(this,arguments)},children:"Connect wallet"})})]})})}var w=n(110),g=n(211),T=n(216),k=n(213),S=n(207),C=n(21),M=n(209),E=n(108),I=n(23),A=[{inputs:[{internalType:"uint256",name:"supply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"supply",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],W=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"unlocker",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"unlockTimestamp",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"deposits",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"unlockTimestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarderAddress",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"forwarderAddress",type:"address"}],name:"setForwarder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],F="0xc7847fe3B3427c0f5AeFd6df17a3ED6E7668C3cc";function N(e){var t=Object(a.useContext)(d).address,n=Object(a.useState)(""),r=Object(p.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(!1),y=Object(p.a)(c,2),b=y[0],j=y[1],f=Object(a.useState)(!1),h=Object(p.a)(f,2),v=h[0],N=h[1],J=Object(a.useState)(new Date),L=Object(p.a)(J,2),P=L[0],B=L[1],z=Object(a.useState)(!1),D=Object(p.a)(z,2),V=D[0],K=D[1],R=Object(a.useState)("10"),U=Object(p.a)(R,2),q=U[0],G=U[1],H=Object(a.useState)(""),Q=Object(p.a)(H,2),X=Q[0],Y=Q[1];function Z(){return(Z=Object(u.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!s){e.next=7;break}return n=new I.a.providers.Web3Provider(window.ethereum),a=new I.a.Contract(s,A,n),e.next=5,a.allowance(t,F);case 5:r=e.sent,K("0"!==r.toString());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(u.a)(o.a.mark((function n(){var a,r,i,c,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t||!s){n.next=13;break}return N(!0),a=new I.a.providers.Web3Provider(window.ethereum),r=a.getSigner(),i=new I.a.Contract(s,A,a),c=I.a.BigNumber.from(2).pow(256).sub(1).toString(),n.next=9,i.connect(r).approve(F,c);case 9:return u=n.sent,n.next=12,u.wait();case 12:N(!1);case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),e.onError("Failed to approve tokens"),N(!1);case 19:case"end":return n.stop()}}),n,null,[[0,15]])})))).apply(this,arguments)}function _(){return(_=Object(u.a)(o.a.mark((function t(){var n,a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),n=new I.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),r=new I.a.Contract(F,W,n),t.next=7,r.connect(a).deposit(s,X,I.a.utils.parseEther(q),Math.floor(P.getTime()/1e3));case 7:return i=t.sent,t.next=10,i.wait();case 10:j(!1),Y(""),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),j(!1),e.onError("Failed to lock tokens");case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){Z.apply(this,arguments)}()}),[t,s]),Object(l.jsxs)(w.a,{elevation:1,style:{padding:"16px 0 32px",marginBottom:32},children:[Object(l.jsx)(m.a,{children:Object(l.jsx)(O.a,{variant:"h6",children:"Lock funds"})}),Object(l.jsxs)(m.a,{children:[Object(l.jsx)(g.a,{fullWidth:!0,label:"Token",value:s,onChange:function(e){i(e.target.value)},variant:"outlined",children:e.tokens.map((function(e){return Object(l.jsx)(T.a,{value:e.address,children:e.symbol},e.address)}))}),Object(l.jsx)(k.a,{fullWidth:!0,label:"Tokens amount",variant:"outlined",style:{margin:"24px 0"},value:q,onChange:function(e){G(e.target.value)}}),Object(l.jsx)(k.a,{fullWidth:!0,label:"Claimer address",variant:"outlined",style:{margin:"0 0 24px"},value:X,onChange:function(e){Y(e.target.value)}}),Object(l.jsx)(C.a,{utils:E.a,children:Object(l.jsx)(M.a,{label:"Select unlock date",inputVariant:"outlined",value:P,onChange:function(e){B(e)}})})]}),s&&t&&X&&Object(l.jsxs)(m.a,{style:{margin:"24px 0 0"},children:[!V&&Object(l.jsxs)(x.a,{disabled:v,color:"inherit",variant:"outlined",onClick:function(){return $.apply(this,arguments)},style:{marginRight:16},children:["Enable",v&&Object(l.jsx)(S.a,{size:16,style:{marginLeft:8}})]}),V&&Object(l.jsxs)(x.a,{disabled:b,color:"inherit",variant:"outlined",onClick:function(){return _.apply(this,arguments)},children:["Lock funds",b&&Object(l.jsx)(S.a,{size:16,style:{marginLeft:8}})]})]})]})}var J=n(212),L="0xc7847fe3B3427c0f5AeFd6df17a3ED6E7668C3cc";function P(e){var t=Object(a.useContext)(d).address,n=Object(a.useState)(""),r=Object(p.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(!1),y=Object(p.a)(c,2),b=y[0],j=y[1],f=Object(a.useState)(""),h=Object(p.a)(f,2),v=h[0],k=h[1];function C(){return(C=Object(u.a)(o.a.mark((function e(){var n,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!s){e.next=8;break}return n=new I.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),r=new I.a.Contract(L,W,n),e.next=6,r.connect(a).deposits(t,s);case 6:i=e.sent,k(I.a.utils.formatEther(i.amount.toString()));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(u.a)(o.a.mark((function t(){var n,a,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),n=new I.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),r=new I.a.Contract(L,W,n),t.next=7,r.connect(a).claim(s);case 7:return i=t.sent,t.next=10,i.wait();case 10:j(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),j(!1),e.onError("Failed to unlock tokens");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[t,s]),Object(l.jsxs)(w.a,{elevation:1,style:{padding:"16px 0 32px"},children:[Object(l.jsx)(m.a,{children:Object(l.jsx)(O.a,{variant:"h6",children:"Claim funds ".concat(v||"")})}),Object(l.jsxs)(m.a,{children:[Object(l.jsx)(g.a,{fullWidth:!0,label:"Token",value:s,onChange:function(e){i(e.target.value)},variant:"outlined",children:e.tokens.map((function(e){return Object(l.jsx)(T.a,{value:e.address,children:e.symbol},e.address)}))}),!!v&&Object(l.jsxs)(x.a,{disabled:b,style:{margin:"24px 0 0"},color:"inherit",variant:"outlined",onClick:function(){return M.apply(this,arguments)},children:["Unlock funds",b&&Object(l.jsx)(S.a,{size:16,style:{marginLeft:8}})]})]})]})}var B=n(208),z=n(69);function D(e){var t=localStorage.getItem("tokens");if(t){var n=JSON.parse(t);n=[].concat(Object(z.a)(n),[e]),localStorage.setItem("tokens",JSON.stringify(n))}else localStorage.setItem("tokens",JSON.stringify([e]))}function V(){var e=localStorage.getItem("tokens");return e?JSON.parse(e):[]}function K(e){var t=localStorage.getItem("tokens");return!!t&&JSON.parse(t).filter((function(t){return t.address===e})).length>0}function R(e){var t=Object(a.useState)(""),n=Object(p.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(!1),c=Object(p.a)(i,2),y=c[0],b=c[1],j=Object(a.useContext)(d).ethereum;function f(){return(f=Object(u.a)(o.a.mark((function t(n){var a,i,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r){t.next=3;break}return t.abrupt("return");case 3:if(!K(r)){t.next=6;break}return e.onError("Token already added"),t.abrupt("return");case 6:return t.prev=6,b(!0),a=new I.a.providers.Web3Provider(j),i=new I.a.Contract(r,A,a),t.next=12,i.symbol();case 12:return c=t.sent,t.next=15,i.decimals();case 15:u=t.sent,D({address:r,decimals:u,symbol:c}),b(!1),s(""),e.onAddToken(),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(6),b(!1),e.onError("Failed to add token");case 26:case"end":return t.stop()}}),t,null,[[6,22]])})))).apply(this,arguments)}return Object(l.jsx)(w.a,{style:{padding:"16px 0 24px",marginBottom:32},children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)(O.a,{variant:"h6",children:"Add custom token"}),Object(l.jsx)("form",{onSubmit:function(e){return f.apply(this,arguments)},children:Object(l.jsxs)(B.a,{container:!0,spacing:2,children:[Object(l.jsx)(B.a,{item:!0,xs:8,children:Object(l.jsx)(k.a,{label:"Token address",variant:"outlined",fullWidth:!0,size:"small",value:r,onChange:function(e){s(e.currentTarget.value)}})}),Object(l.jsx)(B.a,{item:!0,xs:4,children:Object(l.jsxs)(x.a,{color:"inherit",variant:"outlined",fullWidth:!0,style:{height:"100%"},type:"submit",disabled:y,children:["Add token",y&&Object(l.jsx)(S.a,{size:16,style:{marginLeft:8}})]})})]})})]})})}function U(e){return Object(l.jsx)(J.a,Object(b.a)({elevation:6,variant:"filled"},e))}function q(){var e=Object(a.useContext)(d),t=e.ethereum,n=e.chainId,r=Object(a.useState)(""),s=Object(p.a)(r,2),i=s[0],c=s[1],o=Object(a.useState)([]),u=Object(p.a)(o,2),y=u[0],b=u[1];function f(e){c(e),setTimeout((function(){c("")}),2e3)}return Object(a.useEffect)((function(){b(V())}),[]),t?Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(v,{}),"0x2a"!==n?Object(l.jsx)("div",{className:"App",style:{width:"100%",display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:"Switch to Kovan tesnet"}):Object(l.jsxs)(m.a,{maxWidth:"sm",style:{padding:"32px 0"},children:[Object(l.jsx)(j.a,{open:!!i,children:Object(l.jsx)(U,{severity:"error",children:i})}),Object(l.jsx)(R,{onAddToken:function(){b(V())},onError:f}),Object(l.jsx)(N,{tokens:y,onError:f}),Object(l.jsx)(P,{tokens:y,onError:f})]})]}):null}var G=function(){return Object(l.jsx)(y,{children:Object(l.jsx)(q,{})})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.81752fca.chunk.js.map